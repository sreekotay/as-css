(()=>{let t=window.as||={};t.css||={};let e=t.css._css||={};if(e.uid)return;if(!document.querySelector("style[data-as-css-defaults]")){const t=document.createElement("style");t.setAttribute("data-as-css-defaults",""),t.textContent="as-style { display: none !important; }",document.head.prepend(t)}e.uid=1,e.queued=0,e.namedStyles={},e.strongStyles=new Set,e.breakpoints||={"xs-gt":"(min-width:480px)","sm-gt":"(min-width:640px)","md-gt":"(min-width:768px)","lg-gt":"(min-width:1024px)","xl-gt":"(min-width:1280px)","xx-gt":"(min-width:1536px)","xs-lt":"(max-width:479px)","sm-lt":"(max-width:639px)","md-lt":"(max-width:767px)","lg-lt":"(max-width:1023px)","xl-lt":"(max-width:1279px)","xx-lt":"(max-width:1535px)"};const s=new Set(["none","paused","running","forwards","backwards","both","infinite","linear","ease","ease-in","ease-out","ease-in-out","step-start","step-end"]),n=/@(?:media|container)\s((?:xs|sm|md|lg|xl|xx)-(?:lt|gt))(?=[^\w-])/g,a=/(^|[^\\])([&*])(?![=\]])/g,i=/[&*]/,r=/(^|[^\\])([&*])(?!=)(?![^"]*"[^"]*(?:"[^"]*"[^"]*)*$|[^']*'[^']*(?:'[^']*'[^']*)*$)/g,o=/["']/;function c(t){if(-1===t.indexOf("(")&&-1===t.indexOf("\\"))return t.split(",").map(t=>t.trim());let e,s=[],n=0,a=0;for(let i=0;i<t.length;i++)e=t[i],"\\"===e?i++:"("===e?a++:")"===e?a--:","===e&&0===a&&(s.push(t.slice(n,i).trim()),n=i+1);return s.push(t.slice(n).trim()),s}function l(t,e,n){for(const d of t)if(d.type===CSSRule.STYLE_RULE){const t=d.style;d.selectorText=c(d.selectorText).map(t=>{const s=t.trim();return i.test(s)?o.test(s)?s.replace(r,"$1"+e):s.replace(a,"$1"+e):`${e} ${s}`.replace(/\s+::/,"::")}).join(", "),t.animationName&&(t.animationName=t.animationName.split(",").map(t=>`${n}-${t.trim()}`).join(",")),t.animation&&(t.animation=t.animation.split(",").map(t=>t.trim().replace(/^(\S+)/,(t,e)=>s.has(e)||e.includes("(")?e:`${n}-${e}`)).join(", "))}else d.type!==CSSRule.KEYFRAMES_RULE||d.name.startsWith("var(")?(25===d.type||"cssRules"in d)&&l(d.cssRules,e,n):d.name=`${n}-${d.name}`}function d(t,s,a,i){var r;"STYLE"!==t.tagName&&((r=document.createElement("style")).textContent=t.textContent,[...t.attributes].forEach(t=>r.setAttribute(t.name,t.value)),t.replaceWith(r),t=r);const o=a;let c="."+a;const d=(i||t.textContent).replace(n,(t,s)=>(t.startsWith("@media")?"@media":"@container")+" "+(e.breakpoints[s]||s));t.textContent=d,s===document.head||s.classList.contains(o)||s.classList.add(o),t.hasAttribute("strong")&&(t.parentNode.classList.add("as-strong"),c+=".as-strong"),t.setAttribute("as-css",o);try{if(!t.sheet)return t.offsetHeight,t.setAttribute("as-css",""),void S();const{cssRules:e}=t.sheet;l(e,c,o),t.hasAttribute("dynamic")||(t.textContent=Array.from(e).map(t=>t.cssText).join("\n"))}catch(t){console.warn("Scoped CSS: rule blocked",t.message,t)}}function m(t,e){if("AS-STYLE"!==t.tagName&&"STYLE"!==t.tagName&&(t=t?.parentNode),!t?.parentNode||"AS-STYLE"!==t?.tagName&&"STYLE"!==t?.tagName)return void console.error("replaceCSS: no styleEl or parentNode");let s=t.getAttribute("as-css");s&&d(t,t.parentNode,s,e)}function u(t,s){t.forEach(t=>{t=t.trim();let n=e.namedStyles[t]&&e.namedStyles[t].split(" ");n?.length?s.classList.add(...n):console.error("Shared-scoped css does NOT exist",t)})}function p(t){t._processing||(t._processing=!0,m(t,t.textContent),queueMicrotask(()=>t._processing=!1))}function h(t){for(const{target:e,type:s}of t)("characterData"===s&&3===e.nodeType&&("STYLE"===e.parentNode?.nodeName||"AS-STYLE"===e.parentNode?.nodeName)&&e.parentNode?.hasAttribute("dynamic")||"childList"===s&&("STYLE"===e.nodeName||"AS-STYLE"===e.nodeName)&&e.hasAttribute("dynamic"))&&p(e)}function x(){e.queued=0,e.mainObserver.disconnect(),document.querySelectorAll('style[as-css=""], as-style:not([as-css]), as-style[as-css=""], [as-class]').forEach(t=>{"STYLE"===t.tagName||"AS-STYLE"===t.tagName?function(t){let s=t.getAttribute("as-name"),n=e.namedStyles[s]||"as--"+e.uid++,a=t.parentNode;if(s){if(e.namedStyles[s])return u(s.split(" "),a),void t.remove();t.hasAttribute("strong")&&e.strongStyles.add(s),e.namedStyles[s]=n+(e.strongStyles.has(s)?" as-strong":""),document.head.appendChild(t)}d(t,a,n),t.setAttribute("as-css",n),t.hasAttribute("dynamic")&&(e.dynamicObserver||=new MutationObserver(h)).observe(document.documentElement,{characterData:!0,childList:!0,subtree:!0})}(t):(u(t.getAttribute("as-class").split(" "),t),t.removeAttribute("as-class"))}),e.mainObserver.observe(document.documentElement,{childList:!0,subtree:!0})}function S(){e.queued||=Promise.resolve().then(x)}t.css.resetAnimations=(t,e="*")=>{[t,...t.querySelectorAll(e)].forEach(t=>{let e=t.style.animation;t.style.animation="none",t.offsetHeight,t.style.animation=e})},t.css.replace=m,(e.mainObserver=new MutationObserver(S)).observe(document.documentElement,{childList:!0,subtree:!0}),x()})();