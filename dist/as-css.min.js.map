{"version":3,"names":["as","window","css","aw","_css","uid","document","querySelector","def","createElement","setAttribute","textContent","head","prepend","queued","namedStyles","strongStyles","Set","breakpoints","ANIM_KW","BP_RE","SCOPE_RE","HAS_SCOPE_RE","QUOTE_SAFE_RE","QUOTE_TEST_RE","splitSelectors","sel","indexOf","split","map","s","trim","ch","out","start","depth","i","length","push","slice","rewriteRules","rules","scope","scopeId","r","type","CSSRule","STYLE_RULE","style","selectorText","st","test","replace","join","animationName","name","animation","anim","match","has","includes","KEYFRAMES_RULE","startsWith","cssRules","resetAnimations","el","selector","querySelectorAll","forEach","p","offsetHeight","clearRetry","styleEl","_retryTimer","clearTimeout","addScope","parentEl","newCSS","generation","retryCount","tagName","attributes","a","value","replaceWith","_scopeGeneration","fullScope","processedCSS","k","classList","contains","add","hasAttribute","sheet","isConnected","setTimeout","console","warn","retries","Array","from","cssText","e","message","replaceCSS","parentNode","error","getAttribute","assignNamedStyles","node","n","processDynamic","_processing","queueMicrotask","handleDynamic","mutations","target","nodeType","nodeName","flush","mainObserver","disconnect","remove","appendChild","dynamicObserver","MutationObserver","observe","documentElement","characterData","childList","subtree","processCSS","removeAttribute","Promise","resolve","then"],"sources":["src/as-css.js"],"mappings":"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","ignoreList":[]}