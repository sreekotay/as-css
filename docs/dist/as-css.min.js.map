{"version":3,"names":["as","window","css","aw","_css","uid","document","querySelector","def","createElement","setAttribute","textContent","head","prepend","queued","namedStyles","strongStyles","Set","breakpoints","ANIM_KW","BP_RE","SCOPE_RE","HAS_SCOPE_RE","QUOTE_SAFE_RE","QUOTE_TEST_RE","splitSelectors","sel","indexOf","split","map","s","trim","ch","out","start","depth","i","length","push","slice","rewriteRules","rules","scope","scopeId","r","type","CSSRule","STYLE_RULE","style","selectorText","st","test","replace","join","animationName","name","animation","anim","match","has","includes","KEYFRAMES_RULE","startsWith","cssRules","addScope","styleEl","parentEl","newCSS","tagName","attributes","forEach","a","value","replaceWith","fullScope","processedCSS","k","classList","contains","add","hasAttribute","parentNode","sheet","offsetHeight","schedule","Array","from","cssText","e","console","warn","message","replaceCSS","error","getAttribute","assignNamedStyles","node","n","processDynamic","_processing","queueMicrotask","handleDynamic","mutations","target","nodeType","nodeName","flush","mainObserver","disconnect","querySelectorAll","remove","appendChild","dynamicObserver","MutationObserver","observe","documentElement","characterData","childList","subtree","processCSS","removeAttribute","Promise","resolve","then","resetAnimations","el","selector","p"],"sources":["src/as-css.js"],"mappings":"AAAA,MACE,IAAIA,EAAKC,OAAOD,KAAO,CAAC,EAAGA,EAAGE,MAAM,CAAC,EAAG,IAAIC,EAAKH,EAAGE,IAAIE,OAAO,CAAC,EAAG,GAAID,EAAGE,IAAK,OAC/E,IAAKC,SAASC,cAAc,+BAAgC,CAC1D,MAAMC,EAAMF,SAASG,cAAc,SAAUD,EAAIE,aAAa,uBAAwB,IACtFF,EAAIG,YAAc,yCAA0CL,SAASM,KAAKC,QAAQL,EACpF,CACAL,EAAGE,IAAM,EAAGF,EAAGW,OAAS,EAAGX,EAAGY,YAAc,CAAC,EAAGZ,EAAGa,aAAe,IAAIC,IAAOd,EAAGe,cAAgB,CAC9F,QAAQ,oBAAqB,QAAQ,oBAAqB,QAAQ,oBAAqB,QAAQ,qBAAsB,QAAQ,qBAAsB,QAAQ,qBAC3J,QAAQ,oBAAqB,QAAQ,oBAAqB,QAAQ,oBAAqB,QAAQ,qBAAsB,QAAQ,qBAAsB,QAAQ,sBAE7J,MAAMC,EAAU,IAAIF,IAAI,CAAE,OAAO,SAAS,UAAU,WAAW,YAAY,OAAO,WACxD,SAAS,OAAO,UAAU,WAAW,cAAe,aAAa,aACrFG,EAAQ,qEAAsEC,EAAW,4BAA6BC,EAAe,OACrIC,EAAgB,uFAAwFC,EAAgB,OAG9H,SAASC,EAAeC,GACtB,IAAwB,IAApBA,EAAIC,QAAQ,OAAkC,IAArBD,EAAIC,QAAQ,MAAY,OAAOD,EAAIE,MAAM,KAAKC,IAAIC,GAAKA,EAAEC,QACtF,IAAoCC,EAAhCC,EAAM,GAAIC,EAAQ,EAAGC,EAAQ,EACjC,IAAK,IAAIC,EAAE,EAAGA,EAAEV,EAAIW,OAAQD,IAAOJ,EAAKN,EAAIU,GAAe,OAAPJ,EAAaI,IACd,MAAPJ,EAAYG,IAAyB,MAAPH,EAAYG,IACnC,MAAPH,GAAwB,IAAVG,IAAeF,EAAIK,KAAKZ,EAAIa,MAAML,EAAOE,GAAGL,QAASG,EAAQE,EAAI,GACxF,OAAnCH,EAAIK,KAAKZ,EAAIa,MAAML,GAAOH,QAAgBE,CAC5C,CACA,SAASO,EAAaC,EAAOC,EAAOC,GAClC,IAAK,MAAMC,KAAKH,EACd,GAAIG,EAAEC,OAASC,QAAQC,WAAY,CACjC,MAAMC,EAAQJ,EAAEI,MAChBJ,EAAEK,aAAexB,EAAemB,EAAEK,cAAcpB,IAAIC,IAClD,MAAMoB,EAAKpB,EAAEC,OAAQ,OAAIT,EAAa6B,KAAKD,GACpC1B,EAAc2B,KAAKD,GACZA,EAAGE,QAAQ7B,EAAe,KAAOmB,GADTQ,EAAGE,QAAQ/B,EAAU,KAAOqB,GAG3D,GAAIA,KAASQ,IAAME,QAAQ,QAAS,QAC1CC,KAAK,MACJL,EAAMM,gBAAeN,EAAMM,cAAgBN,EAAMM,cAAc1B,MAAM,KAAKC,IAAI0B,GAAQ,GAAGZ,KAAWY,EAAKxB,UAAUsB,KAAK,MACxHL,EAAMQ,YAAWR,EAAMQ,UAAYR,EAAMQ,UAAU5B,MAAM,KAAKC,IAAI4B,GAC7DA,EAAK1B,OAAOqB,QAAQ,SAAU,CAACM,EAAOH,IAAUpC,EAAQwC,IAAIJ,IAASA,EAAKK,SAAS,KAAQL,EAAO,GAAGZ,KAAWY,MACtHF,KAAK,MACV,MAAWT,EAAEC,OAASC,QAAQe,gBAAmBjB,EAAEW,KAAKO,WAAW,SAC/C,KAAXlB,EAAEC,MAAe,aAAcD,IAAGJ,EAAaI,EAAEmB,SAAUrB,EAAOC,GADCC,EAAEW,KAAO,GAAGZ,KAAWC,EAAEW,MAEzG,CACA,SAASS,EAASC,EAASC,EAAUxB,EAAOyB,GACC,IAACrC,EAApB,UAApBmC,EAAQG,WAAgCtC,EAA8IxB,SAASG,cAAc,UAA7JE,YAAcsD,EAAQtD,YAAa,IAAIsD,EAAQI,YAAYC,QAAQC,GAAKzC,EAAEpB,aAAa6D,EAAEhB,KAAMgB,EAAEC,QAASP,EAAQQ,YAAY3C,GAAjJmC,EAAqJnC,GACtL,MAA2Ca,EAAUD,EAAO,IAAIgC,EAAY,IAAMhC,EAClF,MAAMiC,GADMR,GAAUF,EAAQtD,aACLyC,QAAQhC,EAAO,CAACsC,EAAOkB,KAAiBlB,EAAMI,WAAW,UAAY,SAAW,cAAyB,KAAO3D,EAAGe,YAAY0D,IAAMA,IAC9JX,EAAQtD,YAAcgE,EAClBT,IAAa5D,SAASM,MAASsD,EAASW,UAAUC,SAASnC,IAAUuB,EAASW,UAAUE,IAAIpC,GAC5FsB,EAAQe,aAAa,YAAaf,EAAQgB,WAAWJ,UAAUE,IAAI,aAAcL,GAAwB,cAC7GT,EAAQvD,aAAa,SAAUiC,GAC/B,IACE,IAAKsB,EAAQiB,MAAyF,OAAhFjB,EAAQkB,aAAclB,EAAQvD,aAAa,SAAU,SAAe0E,IAC1F,MAAMrB,SAAEA,GAAaE,EAAQiB,MAC7B1C,EAAauB,EAAUW,EAAW/B,GAC7BsB,EAAQe,aAAa,aAAYf,EAAQtD,YAAc0E,MAAMC,KAAKvB,GAAUlC,IAAIe,GAAKA,EAAE2C,SAASlC,KAAK,MAC5G,CAAE,MAAMmC,GAAKC,QAAQC,KAAK,2BAA4BF,EAAEG,QAASH,EAAI,CACvE,CACA,SAASI,EAAY3B,EAASE,GAE5B,GADwB,aAApBF,EAAQG,SAA8C,UAApBH,EAAQG,UAAqBH,EAAUA,GAASgB,aACjFhB,GAASgB,YAAoC,aAArBhB,GAASG,SAA+C,UAArBH,GAASG,QAA8E,YAAvDqB,QAAQI,MAAM,wCAC9G,IAAIlD,EAAUsB,EAAQ6B,aAAa,UAAenD,GAASqB,EAASC,EAASA,EAAQgB,WAAYtC,EAASwB,EAC5G,CACA,SAAS4B,EAAkBnE,EAAMoE,GAAQpE,EAAM0C,QAAQxC,IAAOA,EAAEA,EAAEC,OAAS,IAAIkE,EAAI9F,EAAGY,YAAYe,IAAM3B,EAAGY,YAAYe,GAAGF,MAAM,KACnFqE,GAAG5D,OAAQ2D,EAAKnB,UAAUE,OAAOkB,GAASR,QAAQI,MAAM,mCAAoC/D,IAAO,CAUhJ,SAASoE,EAAejC,GAAgBA,EAAQkC,cAAqBlC,EAAQkC,aAAc,EAAMP,EAAW3B,EAASA,EAAQtD,aAAcyF,eAAe,IAAMnC,EAAQkC,aAAc,GAAQ,CAC9L,SAASE,EAAcC,GAAa,IAAK,MAAMC,OAACA,EAAM1D,KAAEA,KAASyD,GACb,kBAATzD,GAAgD,IAApB0D,EAAOC,WAAmD,UAAhCD,EAAOtB,YAAYwB,UAAwD,aAAhCF,EAAOtB,YAAYwB,WAA4BF,EAAOtB,YAAYD,aAAa,YACvK,cAATnC,IAA6C,UAApB0D,EAAOE,UAA4C,aAApBF,EAAOE,WAA4BF,EAAOvB,aAAa,aAAakB,EAAeK,EAAS,CAC/L,SAASG,IACPvG,EAAGW,OAAS,EAAGX,EAAGwG,aAAaC,aAC/BtG,SAASuG,iBAAiB,6EAA6EvC,QAAQkB,IAC7F,UAAZA,EAAEpB,SAAiC,aAAZoB,EAAEpB,QAhBjC,SAAqB4B,GACnB,IAAIzC,EAAOyC,EAAKF,aAAa,WAAYpD,EAAQvC,EAAGY,YAAYwC,IAAS,OAASpD,EAAGE,MAAO6D,EAAW8B,EAAKf,WAC5G,GAAI1B,EAAM,CAAE,GAAIpD,EAAGY,YAAYwC,GAAsE,OAA7DwC,EAAkBxC,EAAK3B,MAAM,KAAMsC,QAAW8B,EAAKc,SAC3Ed,EAAKhB,aAAa,WAAW7E,EAAGa,aAAa+D,IAAIxB,GACrDpD,EAAGY,YAAYwC,GAAQb,GAASvC,EAAGa,aAAa2C,IAAIJ,GAAQ,aAAe,IAAKjD,SAASM,KAAKmG,YAAYf,EAAO,CAC7HhC,EAASgC,EAAM9B,EAAUxB,GACzBsD,EAAKtF,aAAa,SAAUgC,GACxBsD,EAAKhB,aAAa,aAAa7E,EAAG6G,kBAAoB,IAAIC,iBAAiBZ,IAAgBa,QAAQ5G,SAAS6G,gBAAiB,CAAEC,eAAe,EAAMC,WAAW,EAAMC,SAAS,GACpL,CAQuDC,CAAW/B,IACxDO,EAAkBP,EAAEM,aAAa,YAAYlE,MAAM,KAAM4D,GAAIA,EAAEgC,gBAAgB,eAEvFrH,EAAGwG,aAAaO,QAAQ5G,SAAS6G,gBAAiB,CAACE,WAAU,EAAMC,SAAQ,GAC7E,CACA,SAASlC,IAAajF,EAAGW,SAAW2G,QAAQC,UAAUC,KAAKjB,EAAQ,CAvEnE1G,EAAGE,IAAI0H,gBAAkB,CAACC,EAAIC,EAAW,OAAsB,CAACD,KAAOA,EAAGhB,iBAAiBiB,IACpFxD,QAAQuD,IAAQ,IAAIE,EAAEF,EAAG7E,MAAMQ,UAAWqE,EAAG7E,MAAMQ,UAAY,OAAQqE,EAAG1C,aAAc0C,EAAG7E,MAAMQ,UAAYuE,KA8CjH/H,EAAGE,IAAIkD,QAAUwC,GAyBnBzF,EAAGwG,aAAe,IAAIM,iBAAiB7B,IAAW8B,QAAQ5G,SAAS6G,gBAAiB,CAACE,WAAU,EAAMC,SAAQ,IAC9GZ,GACD,EAxFD","ignoreList":[]}